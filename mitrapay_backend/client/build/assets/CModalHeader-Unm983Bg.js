import{r as n,_ as f,$ as o,c as p,P as e}from"./index-S0OVyHNu.js";import{u as P,T as L,a as M,C as U}from"./CFocusTrap-DLS2BFbd.js";import{C as W}from"./CCloseButton-ThnMeZd7.js";const E=n.forwardRef((t,s)=>{var{className:a="modal-backdrop",visible:r}=t,l=f(t,["className","visible"]);const c=n.useRef(null),d=P(s,c);return o.createElement(L,{in:r,mountOnEnter:!0,nodeRef:c,timeout:150,unmountOnExit:!0},m=>o.createElement("div",Object.assign({className:p(a,"fade",{show:m==="entered"})},l,{ref:d})))});E.propTypes={className:e.string,visible:e.bool};E.displayName="CBackdrop";const N=n.forwardRef((t,s)=>{var{children:a,className:r}=t,l=f(t,["children","className"]);return o.createElement("div",Object.assign({className:p("modal-content",r)},l,{ref:s}),a)});N.propTypes={children:e.node,className:e.string};N.displayName="CModalContent";const j=n.createContext({}),h=n.forwardRef((t,s)=>{var{children:a,alignment:r,className:l,fullscreen:c,scrollable:d,size:m}=t,y=f(t,["children","alignment","className","fullscreen","scrollable","size"]);return o.createElement("div",Object.assign({className:p("modal-dialog",{"modal-dialog-centered":r==="center",[typeof c=="boolean"?"modal-fullscreen":`modal-fullscreen-${c}-down`]:c,"modal-dialog-scrollable":d,[`modal-${m}`]:m},l)},y,{ref:s}),a)});h.propTypes={alignment:e.oneOf(["top","center"]),children:e.node,className:e.string,fullscreen:e.oneOfType([e.bool,e.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:e.bool,size:e.oneOf(["sm","lg","xl"])};h.displayName="CModalDialog";const z=n.forwardRef((t,s)=>{var{children:a,alignment:r,backdrop:l=!0,className:c,container:d,duration:m=150,focus:y=!0,fullscreen:D,keyboard:F=!0,onClose:V,onClosePrevented:v,onShow:H,portal:O=!0,scrollable:I,size:K,transition:k=!0,unmountOnClose:q=!0,visible:g}=t,A=f(t,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]);const b=n.useRef(null),G=n.useRef(null),J=P(s,b),[i,C]=n.useState(g),[x,w]=n.useState(!1),Q={visible:i,setVisible:C};n.useEffect(()=>{C(g)},[g]),n.useEffect(()=>(i&&(document.addEventListener("mouseup",T),document.addEventListener("keydown",B)),()=>{document.removeEventListener("mouseup",T),document.removeEventListener("keydown",B)}),[i]);const R=()=>{if(l==="static")return w(!0);C(!1)};n.useLayoutEffect(()=>{v==null||v(),setTimeout(()=>w(!1),m)},[x]),n.useLayoutEffect(()=>(i?(document.body.classList.add("modal-open"),l&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px")):(document.body.classList.remove("modal-open"),l&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),()=>{document.body.classList.remove("modal-open"),l&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}),[i]);const T=u=>{b.current&&b.current==u.target&&R()},B=u=>{u.key==="Escape"&&F&&R()};return o.createElement(o.Fragment,null,o.createElement(L,{in:i,mountOnEnter:!0,nodeRef:b,onEnter:H,onExit:V,unmountOnExit:q,timeout:k?m:0},u=>o.createElement(M,{container:d,portal:O},o.createElement(j.Provider,{value:Q},o.createElement("div",Object.assign({className:p("modal",{"modal-static":x,fade:k,show:u==="entered"},c),tabIndex:-1},i?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:Object.assign({},u!=="exited"&&{display:"block"})},A,{ref:J}),o.createElement(h,{alignment:r,fullscreen:D,scrollable:I,size:K},o.createElement(U,{active:y&&u==="entered",restoreFocus:!0},o.createElement(N,{ref:G},a))))))),l&&o.createElement(M,{container:d,portal:O},o.createElement(E,{visible:i})))});z.propTypes={alignment:e.oneOf(["top","center"]),backdrop:e.oneOfType([e.bool,e.oneOf(["static"])]),children:e.node,className:e.string,container:e.any,duration:e.number,focus:e.bool,fullscreen:e.oneOfType([e.bool,e.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:e.bool,onClose:e.func,onClosePrevented:e.func,onShow:e.func,portal:e.bool,scrollable:e.bool,size:e.oneOf(["sm","lg","xl"]),transition:e.bool,unmountOnClose:e.bool,visible:e.bool};z.displayName="CModal";const S=n.forwardRef((t,s)=>{var{children:a,className:r}=t,l=f(t,["children","className"]);return o.createElement("div",Object.assign({className:p("modal-body",r)},l,{ref:s}),a)});S.propTypes={children:e.node,className:e.string};S.displayName="CModalBody";const $=n.forwardRef((t,s)=>{var{children:a,className:r,closeButton:l=!0}=t,c=f(t,["children","className","closeButton"]);const{setVisible:d}=n.useContext(j);return o.createElement("div",Object.assign({className:p("modal-header",r)},c,{ref:s}),a,l&&o.createElement(W,{onClick:()=>d(!1)}))});$.propTypes={children:e.node,className:e.string,closeButton:e.bool};$.displayName="CModalHeader";export{z as C,$ as a,S as b};
