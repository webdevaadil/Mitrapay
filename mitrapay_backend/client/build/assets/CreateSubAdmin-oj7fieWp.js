import{e as A,r as b,j as s,L as p,y as d,q as S}from"./index-BWCtnueZ.js";import{d as _,e as U,f as k}from"./index-CBUeCjhJ.js";function D(){const g=A(),t="rgb(255, 102, 0)",f="#cc5200",C="#121212",h="#1e1e1e",n="#e0e0e0",l="#9e9e9e",c="#282828",i="#444",w=["Dashboard","User","Create User","View User","Edit User","Money Transfer","Send Money","View Transaction","Multiple Payments"].filter((e,o,a)=>a.indexOf(e)===o),[r,x]=b.useState({Name:"",User_name:"",email:"",Phone:"",Status:"Active",Password:"",role:"Sub_Admin",Pages:[],CreatedBy:"Super_Admin"}),[m,N]=b.useState({}),j=e=>{const{name:o,value:a}=e.target;x({...r,[o]:a})},y=e=>{const o=r.Pages.includes(e)?r.Pages.filter(a=>a!==e):[...r.Pages,e];x({...r,Pages:o})},P=()=>{const e={};return r.Name.trim()||(e.Name="Name is required"),r.User_name.trim()||(e.User_name="Username is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Invalid email format"):e.email="Email is required",r.Phone.trim()?/^\d{10}$/.test(r.Phone)||(e.Phone="Phone must be 10 digits"):e.Phone="Phone number is required",r.Password?r.Password.length<8&&(e.Password="Password must be at least 8 characters"):e.Password="Password is required",N(e),Object.keys(e).length===0},v=async e=>{var o,a;if(e.preventDefault(),!P()){d.error("Please correct the form errors");return}try{await S.post("/api/auth/Create_Subadmin",r,{withCredentials:!0}),d.success("Sub Admin created successfully!"),g("/viewCoAdmin")}catch(u){u.response&&u.response.status===401&&(d.error("Unauthorized access. Please log in again."),window.location.reload()),d.error(((a=(o=u.response)==null?void 0:o.data)==null?void 0:a.message)||"Something went wrong")}};return s.jsxs("div",{className:"container py-5",style:{backgroundColor:C,minHeight:"100vh",color:n},children:[s.jsx("div",{className:"rounded-3 shadow-lg mb-4",style:{borderBottom:`3px solid ${t}`,backgroundColor:h},children:s.jsxs("header",{className:"d-flex align-items-center justify-content-between px-4 py-3",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx(p,{to:"/viewCoAdmin",className:"btn btn-outline-light rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px",borderColor:l,color:n},children:s.jsx(_,{})}),s.jsx("h1",{className:"h4 fw-bold mb-0",style:{color:n},children:"Create Co-Admin User"})]}),s.jsxs(p,{to:"/viewCoAdmin",className:"btn px-4 py-2 fw-semibold rounded-pill",style:{backgroundColor:c,color:n,borderColor:i,border:"1px solid"},children:[s.jsx(U,{className:"me-2"})," View Co-Admin"]})]})}),s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-lg-10",children:s.jsx("form",{className:"p-5 rounded-4 shadow-lg",onSubmit:v,style:{backgroundColor:h,border:`1px solid ${i}`,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.4)",color:n},children:s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-12 mb-4",children:s.jsx("h5",{className:"text-uppercase fw-bold border-bottom pb-2 mb-3",style:{color:l,borderColor:i},children:"Login and Contact Information"})}),[{id:"Name",label:"Full Name"},{id:"User_name",label:"Username"},{id:"email",label:"Email Address",type:"email"},{id:"Phone",label:"Phone Number"},{id:"Password",label:"Password",type:"password"}].map(({id:e,label:o,type:a="text"})=>s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"form-floating",children:[s.jsx("input",{type:a,name:e,id:e,className:`form-control ${m[e]?"is-invalid":""}`,placeholder:o,value:r[e],onChange:j,style:{borderRadius:"8px",height:"56px",backgroundColor:c,color:n,borderColor:i}}),s.jsx("label",{htmlFor:e,style:{color:l},children:o}),m[e]&&s.jsx("div",{className:"invalid-feedback",children:m[e]})]})},e)),s.jsxs("div",{className:"col-12 pt-5",children:[s.jsx("h5",{className:"text-uppercase fw-bold pb-3",style:{color:t,borderBottom:`2px solid ${t}33`},children:"Page Access Permissions"}),s.jsx("div",{className:"row g-2 pt-3",children:w.map(e=>{const o=r.Pages.includes(e);return s.jsx("div",{className:"col-auto",children:s.jsx("div",{className:"px-3 py-2 rounded-pill border fw-medium user-select-none",style:{borderColor:o?t:l,backgroundColor:o?t:c,color:o?"white":n,cursor:"pointer",transition:"all 0.15s ease-in-out",boxShadow:o?`0 2px 5px ${t}33`:"none"},onClick:()=>y(e),children:e})},e)})})]}),s.jsx("div",{className:"col-12 text-center mt-5",children:s.jsxs("button",{type:"submit",className:"btn btn-lg px-5 py-3 fw-bold rounded-pill",style:{backgroundColor:t,color:"white",boxShadow:`0 10px 30px ${t}66`,transition:"background-color 0.2s, transform 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor=f,onMouseOut:e=>e.currentTarget.style.backgroundColor=t,children:[s.jsx(k,{className:"me-2"})," Confirm and Create Co Admin"]})})]})})})})]})}export{D as default};
