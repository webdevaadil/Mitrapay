import{r as o,_ as q,$ as t,c as B,P as e,t as L,x as A}from"./index-C3nOHlLd.js";import{u as I,a as V}from"./tigerpay-Pmp4NT5g.js";import{u as z}from"./DefaultLayout-l3_iFT_o.js";import{g as D,e as G}from"./getRTLPlacement-B5JCpdCC.js";const O=o.forwardRef((m,w)=>{var{children:E,animation:T=!0,className:C,container:k,content:R,delay:i=0,fallbackPlacements:j=["top","right","bottom","left"],offset:N=[0,8],onHide:d,onShow:g,placement:S="top",popperConfig:f,title:x,trigger:n="click",visible:u}=m,H=q(m,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]);const r=o.useRef(null),s=o.useRef(null),_=I(w,r),b=`popover${o.useId()}`,[c,h]=o.useState(!1),[a,v]=o.useState(u),{initPopper:$,destroyPopper:F}=z(),y=typeof i=="number"?{show:i,hide:i}:i,P={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:j}},{name:"offset",options:{offset:N}}],placement:D(S,s.current)},M=Object.assign(Object.assign({},P),typeof f=="function"?f(P):f);o.useEffect(()=>{if(u){l();return}p()},[u]),o.useEffect(()=>{if(c&&s.current&&r.current){$(s.current,r.current,M),setTimeout(()=>{v(!0)},y.show);return}!c&&s.current&&r.current&&F()},[c]),o.useEffect(()=>{!a&&s.current&&r.current&&G(()=>{h(!1)},r.current)},[a]);const l=()=>{h(!0),g&&g()},p=()=>{setTimeout(()=>{v(!1),d&&d()},y.hide)};return t.createElement(t.Fragment,null,t.cloneElement(E,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a&&{"aria-describedby":b}),{ref:s}),(n==="click"||n.includes("click"))&&{onClick:()=>a?p():l()}),(n==="focus"||n.includes("focus"))&&{onFocus:()=>l(),onBlur:()=>p()}),(n==="hover"||n.includes("hover"))&&{onMouseEnter:()=>l(),onMouseLeave:()=>p()})),t.createElement(V,{container:k,portal:!0},c&&t.createElement("div",Object.assign({className:B("popover","bs-popover-auto",{fade:T,show:a},C),id:b,ref:_,role:"tooltip"},H),t.createElement("div",{className:"popover-arrow"}),t.createElement("div",{className:"popover-header"},x),t.createElement("div",{className:"popover-body"},R))))});O.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:A,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),title:e.oneOfType([e.string,e.node]),trigger:L,visible:e.bool};O.displayName="CPopover";export{O as C};
