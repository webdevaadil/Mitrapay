import{r as t,_ as q,$ as o,c as B,P as e,t as L,x as A}from"./index-C3nOHlLd.js";import{u as I,a as V}from"./tigerpay-Pmp4NT5g.js";import{u as z}from"./DefaultLayout-l3_iFT_o.js";import{g as D,e as G}from"./getRTLPlacement-B5JCpdCC.js";const w=t.forwardRef((m,E)=>{var{children:O,animation:C=!0,className:R,container:j,content:d,delay:i=0,fallbackPlacements:k=["top","right","bottom","left"],offset:N=[0,6],onHide:g,onShow:b,placement:S="top",popperConfig:p,trigger:n=["hover","focus"],visible:u}=m,x=q(m,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","trigger","visible"]);const r=t.useRef(null),s=t.useRef(null),H=I(E,r),h=`tooltip${t.useId()}`,[c,y]=t.useState(!1),[a,P]=t.useState(u),{initPopper:_,destroyPopper:$,updatePopper:F}=z(),T=typeof i=="number"?{show:i,hide:i}:i,v={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:k}},{name:"offset",options:{offset:N}}],placement:D(S,s.current)},M=Object.assign(Object.assign({},v),typeof p=="function"?p(v):p);t.useEffect(()=>{if(u){l();return}f()},[u]),t.useEffect(()=>{if(c&&s.current&&r.current){_(s.current,r.current,M),setTimeout(()=>{P(!0)},T.show);return}!c&&s.current&&r.current&&$()},[c]),t.useEffect(()=>{!a&&s.current&&r.current&&G(()=>{y(!1)},r.current)},[a]);const l=()=>{y(!0),b&&b()},f=()=>{setTimeout(()=>{P(!1),g&&g()},T.hide)};return t.useEffect(()=>{F()},[d]),o.createElement(o.Fragment,null,o.cloneElement(O,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a&&{"aria-describedby":h}),{ref:s}),(n==="click"||n.includes("click"))&&{onClick:()=>a?f():l()}),(n==="focus"||n.includes("focus"))&&{onFocus:()=>l(),onBlur:()=>f()}),(n==="hover"||n.includes("hover"))&&{onMouseEnter:()=>l(),onMouseLeave:()=>f()})),o.createElement(V,{container:j,portal:!0},c&&o.createElement("div",Object.assign({className:B("tooltip","bs-tooltip-auto",{fade:C,show:a},R),id:h,ref:H,role:"tooltip"},x),o.createElement("div",{className:"tooltip-arrow"}),o.createElement("div",{className:"tooltip-inner"},d))))});w.propTypes={animation:e.bool,children:e.node,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:A,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),trigger:L,visible:e.bool};w.displayName="CTooltip";export{w as C};
