import{r as s,e as I,f as z,b as F,y as p,i as B,j as e,C as y,L as R,k as A,v as V}from"./index-S0OVyHNu.js";import{b as q,c as w,a as g}from"./index.esm-LEHn8Q-H.js";import{C as D,a as C}from"./CRow-DSL1DoSH.js";import{C as W,a as H}from"./CCardBody-CBNdoKh7.js";import{C as v}from"./CForm-TVZgw3-3.js";import{c as U,a as Y}from"./cil-user-Dlmw-Gem.js";import{C as f}from"./CFormInput-DT5MO4RY.js";import{C as G,a as J,b as K}from"./CModalHeader-Unm983Bg.js";import{C as Q,a as X}from"./CModalTitle-Ci3Ps_-Q.js";import"./CFormControlWrapper-D5pOIavM.js";import"./CFormControlValidation-DAm1qqxR.js";import"./CFormLabel-RGphUqCH.js";import"./CFocusTrap-DLS2BFbd.js";import"./CCloseButton-ThnMeZd7.js";const Z=""+new URL("licensed-image--aAjVSId.jpg",import.meta.url).href,pe=()=>{const[c,k]=s.useState(!1),[a,S]=s.useState(""),[i,N]=s.useState(""),[o,h]=s.useState({}),[P,n]=s.useState(!1),[l,L]=s.useState(""),[u,x]=s.useState(""),b=I(),d=z(),{error:t,isAuthenticated:j,loading:m}=F(r=>r.user),O=()=>{const r={};return a.trim()?/\S+@\S+\.\S+/.test(a)||(r.email="Invalid email format"):r.email="Email is required",i.trim()?i.length<6&&(r.Password="Password must be at least 6 characters long"):r.Password="Password is required",h(r),Object.keys(r).length===0},E=r=>{r.preventDefault(),O()&&d(A(a,i))},T=r=>{if(r.preventDefault(),x(""),l.length!==6||isNaN(Number(l))){x("OTP must be a 6-digit number.");return}d(V(a,l))};s.useEffect(()=>{if(t&&(t==="Session expired"?p.error(t):t==="Invalid password"||t==="Invalid email"?p.error("Invalid Email or Password"):t.includes("OTP sent to your registered")?(p.success(t),n(!0)):h(r=>({...r,backend:t})),d(B())),j){const r=setTimeout(()=>{b("/dashboard")},1e3);return()=>clearTimeout(r)}},[t,j,b,d]);const M=`
    input::placeholder {
      color: rgba(255, 255, 255, 0.7) !important;
      opacity: 1;
    }
  `;return console.log(m),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:M}),e.jsxs("div",{className:"min-vh-100 d-flex justify-content-center align-items-center",style:{background:"linear-gradient(135deg, #0f0a1f, #1a1a2e, #0f0a1f)",backgroundSize:"400% 400%",animation:"gradientAnimation 15s ease infinite",minHeight:"100vh"},children:[e.jsx("style",{children:`
            @keyframes gradientAnimation {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
          `}),e.jsx(q,{children:e.jsxs(D,{className:"justify-content-center align-items-stretch",style:{minHeight:"80vh"},children:[e.jsx(C,{md:6,className:"d-none d-md-flex align-items-center justify-content-center",style:{borderRadius:"1.5rem 0 0 1.5rem",overflow:"hidden",backgroundColor:"#1a1a2e",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRight:"none"},children:e.jsx("img",{src:Z,alt:"Abstract background art",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1.5rem 0 0 1.5rem"}})}),e.jsx(C,{md:6,children:e.jsx(W,{className:"text-center p-4 shadow-lg h-100 d-flex flex-column justify-content-center",style:{borderRadius:"0 1.5rem 1.5rem 0",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderLeft:"none",color:"white"},children:e.jsxs(H,{children:[e.jsx("div",{className:"d-flex justify-content-center mb-4",children:e.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",background:"linear-gradient(90deg, #ff7b00, #ff007f)",WebkitBackgroundClip:"text",color:"transparent",letterSpacing:"1px",transition:"0.3s ease"},className:"hover:scale-105 hover:tracking-wider",children:"Mitra Pay"})}),e.jsx("h4",{className:"fw-bold mb-4",style:{color:"linear-gradient(90deg, #ff7b00, #ff007f)#ff9800"},children:"Login to Mitra Pay"}),e.jsxs(v,{onSubmit:E,children:[e.jsxs("div",{style:{position:"relative",marginBottom:"1rem",marginTop:"3rem"},children:[e.jsx(w,{icon:U,style:{position:"absolute",top:"50%",left:"15px",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.7)",zIndex:1}}),e.jsx(f,{placeholder:"Email",type:"email",value:a,onChange:r=>S(r.target.value),className:"rounded-pill ps-5",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",fontWeight:"normal",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",paddingTop:"0.75rem",paddingBottom:"0.75rem"},required:!0}),o.email&&e.jsx("div",{className:"text-warning small text-start ps-2",children:o.email})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx(w,{icon:Y,style:{position:"absolute",top:"50%",left:"15px",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.7)",zIndex:1}}),e.jsx(f,{type:c?"text":"password",placeholder:"Password",value:i,onChange:r=>N(r.target.value),className:"rounded-pill ps-5 pe-5",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",fontWeight:"normal",paddingTop:"0.75rem",paddingBottom:"0.75rem"},required:!0}),e.jsx("span",{onClick:()=>k(!c),style:{position:"absolute",top:"50%",right:"15px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"0.8rem",color:"#ff9800",zIndex:1},children:c?"Hide":"Show"})]}),o.Password&&e.jsx("div",{className:"text-warning small text-start ps-2 mt-2",children:o.Password})]}),o.backend&&e.jsx("div",{className:"text-danger small text-center mb-3",children:o.backend}),e.jsx(g,{type:"submit",className:"w-100 rounded-pill mb-3",style:{background:"linear-gradient(90deg, #ff9800, #ff5722)",border:"none",color:"white",padding:"10px 0",fontWeight:"bold",fontSize:"20px",boxShadow:"0 4px 15px rgba(255, 152, 0, 0.4)"},onMouseDown:r=>r.preventDefault(),children:m?e.jsx(y,{size:"sm",color:"white"}):"Login"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"small mb-0",children:e.jsx(R,{to:"/forgot-Password",className:"text-decoration-none",style:{color:"#ff9800"},children:"Forgot Username / Password?"})})})]})]})})})]})}),e.jsxs(G,{visible:P,onClose:()=>n(!1),"aria-labelledby":"OTPModalLabel",className:"otp-modal",alignment:"center",children:[e.jsx(J,{onClose:()=>n(!1),children:e.jsx(Q,{id:"OTPModalLabel",children:"Verify One-Time Password"})}),e.jsxs(v,{onSubmit:T,children:[e.jsxs(K,{children:[e.jsxs("p",{className:"text-center mb-4",children:["An OTP has been sent to your registered mobile number.",e.jsx("br",{}),"Please enter the 6-digit code below."]}),e.jsx(f,{type:"text",maxLength:"6",placeholder:"Enter 6-digit OTP",value:l,onChange:r=>L(r.target.value),className:"text-center fs-3",style:{letterSpacing:"0.5rem"},required:!0}),u&&e.jsx("div",{className:"text-danger small text-center mt-2",children:u})]}),e.jsxs(X,{children:[e.jsx(g,{color:"secondary",onClick:()=>n(!1),children:"Cancel"}),e.jsx(g,{type:"submit",style:{backgroundColor:"#ff9800",borderColor:"#ff9800",color:"white"},children:m?e.jsx(y,{size:"sm",color:"white"}):" Verify & Login"})]})]})]})]})]})};export{pe as default};
